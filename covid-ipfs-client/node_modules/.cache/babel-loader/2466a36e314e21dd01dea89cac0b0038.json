{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport { CloseOutlined, DownOutlined } from '@ant-design/icons';\nimport { useIntl } from '@ant-design/pro-provider';\nimport classNames from 'classnames';\nimport React, { useContext, useImperativeHandle, useRef } from 'react';\nimport './index.less';\n\nvar FieldLabel = function FieldLabel(props, ref) {\n  var _classNames;\n\n  var label = props.label,\n      onClear = props.onClear,\n      value = props.value,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'middle' : _props$size,\n      disabled = props.disabled,\n      onLabelClick = props.onLabelClick,\n      ellipsis = props.ellipsis,\n      placeholder = props.placeholder,\n      className = props.className,\n      style = props.style,\n      formatter = props.formatter,\n      bordered = props.bordered,\n      _props$allowClear = props.allowClear,\n      allowClear = _props$allowClear === void 0 ? true : _props$allowClear;\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-core-field-label');\n  var intl = useIntl();\n  var clearRef = useRef(null);\n  var labelRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      labelRef: labelRef,\n      clearRef: clearRef\n    };\n  });\n\n  var formatterText = function formatterText(aValue) {\n    if (formatter) {\n      return formatter(aValue);\n    }\n\n    return Array.isArray(aValue) ? aValue.join(',') : aValue;\n  };\n\n  var getTextByValue = function getTextByValue(aLabel, aValue) {\n    if (aValue !== undefined && aValue !== null && aValue !== '' && (!Array.isArray(aValue) || aValue.length)) {\n      var _str$toString, _str$toString$substr;\n\n      var prefix = aLabel ? /*#__PURE__*/React.createElement(\"span\", {\n        onClick: onLabelClick,\n        className: \"\".concat(prefixCls, \"-text\")\n      }, aLabel, ': ') : '';\n      var str = formatterText(aValue);\n\n      if (!ellipsis) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            display: 'inline-flex',\n            alignItems: 'center'\n          }\n        }, prefix, formatterText(aValue));\n      }\n\n      var getText = function getText() {\n        var isArrayValue = Array.isArray(aValue) && aValue.length > 1;\n        var unitText = intl.getMessage('form.lightFilter.itemUnit', '项');\n\n        if (typeof str === 'string' && str.length > 32 && isArrayValue) {\n          return \"...\".concat(aValue.length).concat(unitText);\n        }\n\n        return '';\n      };\n\n      var tail = getText();\n      return /*#__PURE__*/React.createElement(\"span\", {\n        title: typeof str === 'string' ? str : undefined,\n        style: {\n          display: 'inline-flex',\n          alignItems: 'center'\n        }\n      }, prefix, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          paddingLeft: 4\n        }\n      }, typeof str === 'string' ? str === null || str === void 0 ? void 0 : (_str$toString = str.toString()) === null || _str$toString === void 0 ? void 0 : (_str$toString$substr = _str$toString.substr) === null || _str$toString$substr === void 0 ? void 0 : _str$toString$substr.call(_str$toString, 0, 32) : str), tail);\n    }\n\n    return aLabel || placeholder;\n  };\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(size), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-active\"), !!value || value === 0), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _classNames), className),\n    style: style,\n    ref: labelRef\n  }, getTextByValue(label, value), (value || value === 0) && allowClear && /*#__PURE__*/React.createElement(CloseOutlined, {\n    role: \"button\",\n    title: \"\\u6E05\\u9664\",\n    className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-close\")),\n    onClick: function onClick(e) {\n      if (onClear && !disabled) {\n        onClear();\n      }\n\n      e.stopPropagation();\n    },\n    ref: clearRef\n  }), /*#__PURE__*/React.createElement(DownOutlined, {\n    className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-arrow\"))\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldLabel);","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-utils/es/components/FieldLabel/index.js"],"names":["_defineProperty","_ConfigProvider","CloseOutlined","DownOutlined","useIntl","classNames","React","useContext","useImperativeHandle","useRef","FieldLabel","props","ref","_classNames","label","onClear","value","_props$size","size","disabled","onLabelClick","ellipsis","placeholder","className","style","formatter","bordered","_props$allowClear","allowClear","_useContext","ConfigContext","getPrefixCls","prefixCls","intl","clearRef","labelRef","formatterText","aValue","Array","isArray","join","getTextByValue","aLabel","undefined","length","_str$toString","_str$toString$substr","prefix","createElement","onClick","concat","str","display","alignItems","getText","isArrayValue","unitText","getMessage","tail","title","paddingLeft","toString","substr","call","role","e","stopPropagation","forwardRef"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport { CloseOutlined, DownOutlined } from '@ant-design/icons';\nimport { useIntl } from '@ant-design/pro-provider';\nimport classNames from 'classnames';\nimport React, { useContext, useImperativeHandle, useRef } from 'react';\nimport './index.less';\n\nvar FieldLabel = function FieldLabel(props, ref) {\n  var _classNames;\n\n  var label = props.label,\n      onClear = props.onClear,\n      value = props.value,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'middle' : _props$size,\n      disabled = props.disabled,\n      onLabelClick = props.onLabelClick,\n      ellipsis = props.ellipsis,\n      placeholder = props.placeholder,\n      className = props.className,\n      style = props.style,\n      formatter = props.formatter,\n      bordered = props.bordered,\n      _props$allowClear = props.allowClear,\n      allowClear = _props$allowClear === void 0 ? true : _props$allowClear;\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-core-field-label');\n  var intl = useIntl();\n  var clearRef = useRef(null);\n  var labelRef = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      labelRef: labelRef,\n      clearRef: clearRef\n    };\n  });\n\n  var formatterText = function formatterText(aValue) {\n    if (formatter) {\n      return formatter(aValue);\n    }\n\n    return Array.isArray(aValue) ? aValue.join(',') : aValue;\n  };\n\n  var getTextByValue = function getTextByValue(aLabel, aValue) {\n    if (aValue !== undefined && aValue !== null && aValue !== '' && (!Array.isArray(aValue) || aValue.length)) {\n      var _str$toString, _str$toString$substr;\n\n      var prefix = aLabel ? /*#__PURE__*/React.createElement(\"span\", {\n        onClick: onLabelClick,\n        className: \"\".concat(prefixCls, \"-text\")\n      }, aLabel, ': ') : '';\n      var str = formatterText(aValue);\n\n      if (!ellipsis) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            display: 'inline-flex',\n            alignItems: 'center'\n          }\n        }, prefix, formatterText(aValue));\n      }\n\n      var getText = function getText() {\n        var isArrayValue = Array.isArray(aValue) && aValue.length > 1;\n        var unitText = intl.getMessage('form.lightFilter.itemUnit', '项');\n\n        if (typeof str === 'string' && str.length > 32 && isArrayValue) {\n          return \"...\".concat(aValue.length).concat(unitText);\n        }\n\n        return '';\n      };\n\n      var tail = getText();\n      return /*#__PURE__*/React.createElement(\"span\", {\n        title: typeof str === 'string' ? str : undefined,\n        style: {\n          display: 'inline-flex',\n          alignItems: 'center'\n        }\n      }, prefix, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          paddingLeft: 4\n        }\n      }, typeof str === 'string' ? str === null || str === void 0 ? void 0 : (_str$toString = str.toString()) === null || _str$toString === void 0 ? void 0 : (_str$toString$substr = _str$toString.substr) === null || _str$toString$substr === void 0 ? void 0 : _str$toString$substr.call(_str$toString, 0, 32) : str), tail);\n    }\n\n    return aLabel || placeholder;\n  };\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(size), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-active\"), !!value || value === 0), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _classNames), className),\n    style: style,\n    ref: labelRef\n  }, getTextByValue(label, value), (value || value === 0) && allowClear && /*#__PURE__*/React.createElement(CloseOutlined, {\n    role: \"button\",\n    title: \"\\u6E05\\u9664\",\n    className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-close\")),\n    onClick: function onClick(e) {\n      if (onClear && !disabled) {\n        onClear();\n      }\n\n      e.stopPropagation();\n    },\n    ref: clearRef\n  }), /*#__PURE__*/React.createElement(DownOutlined, {\n    className: classNames(\"\".concat(prefixCls, \"-icon\"), \"\".concat(prefixCls, \"-arrow\"))\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldLabel);"]},"metadata":{},"sourceType":"module"}